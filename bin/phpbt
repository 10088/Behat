#!/usr/bin/env php
<?php

require_once 'PHP/CodeCoverage/Filter.php';
PHP_CodeCoverage_Filter::getInstance()->addFileToBlacklist(__FILE__, 'PHPUNIT');

if (extension_loaded('xdebug')) {
    xdebug_disable();
}

if (strpos('/opt/local/bin/php', '@php_bin') === 0) {
    set_include_path(dirname(__FILE__) . PATH_SEPARATOR . get_include_path());
}

require_once 'PHPUnit/Autoload.php';
require_once __DIR__ . '/../src/BehaviorTester/Command.php';
require_once __DIR__ . '/../src/BehaviorTester/ResultPrinter.php';
require_once __DIR__ . '/../src/BehaviorTester/ResultPrinter/Text.php';

define('PHPUnit_MAIN_METHOD', "\\BehaviorTester\\Command::main");

\BehaviorTester\Command::main();
